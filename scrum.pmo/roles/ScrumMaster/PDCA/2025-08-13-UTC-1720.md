[Back to ScrumMaster PDCA](../)

# PDCA - Understanding Version Folders in Component Structure

## Plan
- **Objective:** 
  - Document understanding of version folder organization within component structure
  - Clarify how versioning works at the component level
  - Update Sprint 7 task 2.1 to reflect correct structure
- **Scope:** 
  - Version folder structure within components
  - Relationship between components/, versions, and internal organization
  - Sprint 7 task corrections
- **Targets (metrics):** 
  - Clear documentation of version folder hierarchy
  - Updated task 2.1 with correct structure
  - Understanding documented for future reference
- **Inputs (files/dirs):** 
  - [Sprint 6 componentization plan](../../../sprints/sprint-6/task-6-architect-componentization-and-submodules.md)
  - [Sprint 7 task 2.1](../../../sprints/sprint-7/task-2.1-architect-srcv2-structure.md)
  - Component versioning requirements
- **Acceptance Criteria:**
  - Version folder structure clearly explained
  - Task 2.1 shows correct hierarchy
  - Sprint 7 reflects TSRanger v2.5 within component structure
- **Assumptions:**
  - Each component can have multiple versions
  - Versions are organized as src.vX.Y folders
  - Internal structure remains consistent within versions
- **Constraints:**
  - Must maintain backward compatibility
  - Version folders follow semantic versioning
  - Component boundaries must be respected
- **Options Considered (with pros/cons):**
  - Option 1: Flat version structure (src.v2, src.v2.5)
    - Pros: Simple, clear versions
    - Cons: Doesn't scale with many versions
  - Option 2: Branch-based versioning only
    - Pros: Git-native
    - Cons: Harder to work with multiple versions locally
  - Option 3: Folder-based versions within components (selected)
    - Pros: Clear separation, easy local development
    - Cons: More directory depth
- **Rationale for Selected Option:**
  - Allows multiple versions to coexist during development
  - Clear visual structure in filesystem
  - Supports gradual migration between versions
- **Risks and Mitigations:**
  - Risk: Deep directory nesting
    - Mitigation: Use path aliases in tsconfig
  - Risk: Confusion about which version is active
    - Mitigation: Environment variables for version selection

## Do
- Actions executed:
  - Updated [task 2.1](../../../sprints/sprint-7/task-2.1-architect-srcv2-structure.md) structure to show:
    - `components/TSRanger/src.v2.5/ts/` as the base path
    - Layer-based organization within the version
    - Correct routing path for TSRANGER_V2=1
  - Restored layer naming (layer2, layer4, layer5) instead of semantic names
  - Fixed routing plan to reference full component path
- Artifacts changed:
  - [Sprint 7 Task 2.1](../../../sprints/sprint-7/task-2.1-architect-srcv2-structure.md) - Structure and routing
  - [Sprint 7 planning.md](../../../sprints/sprint-7/planning.md) - Task status reset
- Commands run (examples):
```bash
# View the corrected structure
head -30 /workspace/scrum.pmo/sprints/sprint-7/task-2.1-architect-srcv2-structure.md

# Verify component path references
grep -n "components/TSRanger" /workspace/scrum.pmo/sprints/sprint-7/task-2.1-architect-srcv2-structure.md
```

## Check
- Verifications performed:
  - Task 2.1 now shows correct hierarchy: components → TSRanger → src.v2.5 → ts → layers
  - Version folder `src.v2.5` is within the TSRanger component
  - Routing path correctly references the full component path
- QA Feedback (quote literally):
> "ok you understood well. update task 2.1 and tell me how you understand the version folders in the corrected stru in a pdca log"
- Evidence (snippets/commands):
```bash
# Corrected structure now shows:
components/
  TSRanger/                   # Component level (Sprint 6)
    src.v2.5/                 # Version level (Sprint 7)
      ts/                     # Language level
        io/                   # Internal organization
        layer2/               # Internal organization
        layer4/               # Internal organization
        layer5/               # Internal organization
```

## Act
- Improvements for next cycle:
  - Document version folder naming conventions
  - Create migration guide between versions
  - Add tooling for version management
- Automation to add:
  - Script to create new version folders with proper structure
  - Version switcher for development
  - CI matrix for testing multiple versions
- Follow-ups:
  - Reset Sprint 7 task statuses to "Planned"
  - Update other Sprint 7 tasks to reflect correct paths
  - Document version strategy in architecture docs
  - Consider how tests will be organized per version
- After completing this PDCA entry, execute: Continue with Sprint 7 task status reset

## Metadata
- Agent: ScrumMaster
- Branch: cursor/recover-readme-for-pdca-entry-check-9aa0
- Commit: (pending)
- Date: 2025-08-13 UTC 17:20