# Web4 User Component Documentation

**Component:** @web4/user  
**Version:** 1.0.0  
**Description:** Web4 User component for consistent user identification  
<<<<<<< HEAD
**Generated:** 2025-08-26T18:12:43.307Z  
**Git Commit:** c7946e6  
**Git Branch:** dev/2025-08-25-UTC-1308
=======
<<<<<<< HEAD
**Generated:** 2025-08-26T18:12:43.307Z  
**Git Commit:** c7946e6  
**Git Branch:** dev/2025-08-25-UTC-1308
=======
**Generated:** 2025-09-11T08:25:16.587Z  
**Git Commit:** 0abf13fa  
**Git Branch:** dev/once0304
>>>>>>> origin/dev/2025-09-14-UTC-1425
>>>>>>> origin/start/save.v5

## Overview

The Web4 User component provides consistent user identification across the Web4Articles ecosystem. It implements:

- **Empty Constructor Pattern**: Objects created without parameters
- **Scenario-Based Users**: User objects as hibernatable scenarios
- **Deterministic UUIDs**: Consistent UUID generation based on username
- **IOR References**: Support for distributed object references

## Architecture

### Layer Structure
- **Layer 2 (Default Implementation)**: `DefaultUser.ts`
- **Layer 3 (Interface)**: `IUser.ts`
- **Layer 4 (Lifecycle Management)**: `EnvironmentChecker.ts`, `DependencyChecker.ts`, `ComponentDocumentationGenerator.ts`

### Key Features
1. **Deterministic UUID Generation**: Same username always produces same UUID
2. **Scenario Management**: Import/export user scenarios
3. **Batch Operations**: Fix owner UUIDs across multiple files
4. **CLI Integration**: Full command-line interface
5. **Self-Management**: Complete lifecycle automation with TypeScript OOP

## Usage

### CLI Commands
```bash
# Create a new user
user create "username" [hostname]

# Get user UUID
user get "username"

# Fix scenario files
user fix-scenario <file>
user fix-scenarios --all

# List all users
user list
```

### Programmatic Usage
```typescript
import { DefaultUser } from '@web4/user';

const user = new DefaultUser();
user.setUsername('donges');
user.setHostname('localhost');
const uuid = user.getUuid(); // Deterministic based on username
```

## Web4 Compliance

✅ **Empty Constructors**: All objects created without parameters  
✅ **Scenario Objects**: Full state serialization support  
✅ **IOR Support**: Ready for distributed references  
✅ **Self-Management**: Complete lifecycle scripts with TypeScript OOP  
✅ **Radical OOP**: All lifecycle management in TypeScript classes  

## Scripts

- **preinstall**: `echo 'Run npm run build first to compile TypeScript lifecycle tools'`
- **postinstall**: `npm run build && npm run symlink`
- **prebuild**: `npm run clean && npm run check:deps`
- **build**: `tsc`
- **postbuild**: `npm run verify && npm run generate:docs`
- **clean**: `rm -rf dist/ *.tsbuildinfo`
- **check:deps**: `node dist/ts/layer5/LifecycleCLI.js check-dependencies || echo 'Skipping dependency check - build in progress'`
- **symlink**: `mkdir -p dist && ln -sf ts/layer2 dist/layer2`
- **verify**: `echo '✅ User component built successfully'`
- **dev**: `tsc --watch`
- **test**: `vitest`
- **test:uuid**: `ts-node --esm test-user-uuid.ts`
- **test:scenarios**: `echo 'Test scenarios via user script'`
- **lint**: `eslint src/`
- **format**: `prettier --write src/`
- **start**: `echo 'User component - use the user script in scripts directory'`
- **generate:docs**: `node dist/ts/layer5/LifecycleCLI.js generate-docs`
- **version**: `npm run build && git add -A dist`
- **prepublishOnly**: `npm test && npm run lint`
- **prepare**: `npm run build`

## Dependencies

### Runtime
None

### Development
- @types/glob: ^8.1.0
- @types/node: ^20.0.0
- eslint: ^8.57.1
- glob: ^10.3.0
- prettier: ^3.6.2
- ts-node: ^10.9.0
- typescript: ^5.0.0
- vitest: ^1.6.1

---

Generated by Web4 Component Documentation Generator (TypeScript OOP)
