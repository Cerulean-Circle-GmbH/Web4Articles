<<<<<<< HEAD
# Web4TSComponent v0.1.0.0 - TypeScript Component Standards Enforcement
=======
# Web4TSComponent - TypeScript Component Standards Enforcement
>>>>>>> origin/dev/2025-09-14-UTC-1425

## Overview

Web4TSComponent is a Web4-native component that enforces TypeScript component standards across the Web4 architecture. It provides tools for generating, validating, and maintaining location-resilient CLI scripts and Web4-compliant component structures.

## Web4 Architecture Compliance

This component implements core Web4 principles:

- ✅ **Empty Constructor Principle**: All classes initialize empty, configured via setters
- ✅ **Scenario-First Development**: Component state is hibernatable and restorable
- ✅ **IOR Architecture**: References components by version-specific paths
- ✅ **Semantic Invariants**: Location becomes semantically irrelevant
- ✅ **Layered Architecture**: Layer 2 (Implementation), Layer 3 (Interface), Layer 5 (CLI)
- ✅ **Location-Resilient CLI**: Self-implementing reference standard

## Key Features

### 🎯 Location-Resilient CLI Standard
- **Generate**: Create standard-compliant CLI scripts for any component
- **Validate**: Check existing scripts against Web4 standard
- **Enforce**: Ensure all components follow the location-resilient pattern

### 🏗️ Component Scaffolding
- **Create**: Generate complete Web4-compliant component structure
- **Configure**: Include CLI, spec folders, Vitest, layered architecture
- **Validate**: Built-in compliance checking

### 📊 Compliance Auditing
- **Audit**: Check existing components for Web4 compliance
- **Report**: Generate comprehensive compliance reports
- **Monitor**: Ongoing standards enforcement

## Installation

```bash
# From project root
cd components/Web4TSComponent/0.1.0.0
npm install
npm run build
```

## Usage

### Command Line Interface

```bash
# Generate location-resilient CLI
web4tscomponent generate-cli MyComponent 0.1.0.0

# Validate existing CLI script
web4tscomponent validate-standard scripts/versions/requirement0.1.3.0

# Scaffold new component
web4tscomponent scaffold-component MyNewComponent 0.1.0.0 --cli --spec --vitest --layers

# Audit component compliance
web4tscomponent audit-compliance components/Web4Requirement/0.1.3.0

# Generate compliance report
web4tscomponent generate-report components/

# Show standards
web4tscomponent show-standard
web4tscomponent show-guidelines
```

### Programmatic Usage

```typescript
import { DefaultWeb4TSComponent } from './src/ts/layer2/DefaultWeb4TSComponent.js';

// Create component (Web4 Empty Constructor Principle)
const component = new DefaultWeb4TSComponent();

// Configure component
component.setComponentName('MyComponent');
component.setVersion('0.1.0.0');
component.setTargetDirectory('/path/to/project');

// Generate CLI script
const script = await component.generateLocationResilientCLI('MyComponent', '0.1.0.0');

// Validate existing script
const validation = await component.validateLocationResilientCLI('/path/to/script.sh');

// Scaffold new component
const metadata = await component.scaffoldComponent({
  componentName: 'NewComponent',
  version: '0.1.0.0',
  includeCLI: true,
  includeSpecFolder: true,
  includeVitest: true,
  includeLayerArchitecture: true
});
```

## Location-Resilient CLI Standard

All Web4 components MUST implement CLIs that work from any directory. The standard includes:

1. **Project Root Detection**: Intelligent discovery using git and package.json
2. **Component Version Resolution**: Locate CLI in standard component structure
3. **Auto-Build Integration**: Automatically build component if needed
4. **Context Preservation**: Return to original execution directory

### Example Generated CLI

```bash
#!/bin/bash
# Generated by Web4TSComponent - Location Resilient Standard

# Project root detection
find_project_root() {
    local git_root=$(git rev-parse --show-toplevel 2>/dev/null)
    # ... standard implementation
}

# Component resolution
COMPONENT_VERSION="0.1.0.0"
COMPONENT_DIR="$PROJECT_ROOT/components/MyComponent/$COMPONENT_VERSION"
CLI_PATH="$COMPONENT_DIR/dist/ts/layer5/MyComponentCLI.js"

# Auto-build integration
if [ ! -f "$CLI_PATH" ]; then
    echo "🔨 Building MyComponent CLI v$COMPONENT_VERSION..."
    cd "$COMPONENT_DIR" && npm install && npm run build
fi

# Execute with context preservation
cd "$CURRENT_DIR"
node "$CLI_PATH" "$@"
```

## Component Architecture

```
Web4TSComponent/0.1.0.0/
├── src/
│   ├── ts/
│   │   ├── layer2/
│   │   │   └── DefaultWeb4TSComponent.ts    # Implementation
│   │   ├── layer3/
│   │   │   └── Web4TSComponent.ts           # Interface
│   │   └── layer5/
│   │       └── Web4TSComponentCLI.ts        # CLI
│   └── standards/
│       └── location-resilient-cli.standard.md
├── spec/
│   ├── requirements/                        # Scenario files
│   └── requirements.md/                     # Generated docs
├── package.json
├── tsconfig.json
├── web4tscomponent.sh                       # Location-resilient CLI
└── README.md
```

## Web4 Principles Applied

### Empty Constructor Principle
```typescript
// ✅ Web4 Way
const component = new DefaultWeb4TSComponent();
component.setComponentName('MyComponent');

// ❌ Mainstream Way  
const component = new Component('MyComponent', '0.1.0.0');
```

### Scenario-First Development
```typescript
// Save component state
const scenario = component.toScenario();

// Restore component state
const newComponent = new DefaultWeb4TSComponent();
newComponent.fromScenario(scenario);
```

### IOR Architecture
```typescript
// Components referenced by version-specific paths
const cliPath = `${projectRoot}/components/${name}/${version}/dist/ts/layer5/${name}CLI.js`;
```

## Standards Enforcement

This component enforces the location-resilient CLI standard implemented across:

- ✅ requirement0.1.0.0, requirement0.1.0.1, requirement0.1.0.2, requirement0.1.2.0, requirement0.1.2.2, requirement0.1.3.0
- ✅ user0.1.0.0, user0.1.3.0
- ✅ unit0.1.0.0, unit0.1.3.0
- ⚠️ changerequest0.1.0.0, changerequest0.1.3.0 (architectural issues - separate concern)

## Future Development

All new Web4 components should:
1. Use Web4TSComponent for scaffolding
2. Generate CLIs using the standard template
3. Validate compliance before release
4. Include in compliance monitoring

## Links

- **PDCA Report**: [Location-Resilient CLI Standard Implementation](../../../scrum.pmo/project.journal/2025-01-27-location-resilient-cli-standardization/pdca/role/background-agent/2025-01-27-UTC-1500-location-resilient-cli-standard.md)
- **Sprint 20**: Web4 Methodology and TLA Implementation
- **Web4 Architecture**: Core principles and standards

---

**Status**: Active Standard Enforcement Tool  
**Version**: 0.1.0.0  
**Compliance**: 100% Web4 Architecture Aligned  
**Purpose**: Maintain location-resilient CLI standard across all Web4 components



